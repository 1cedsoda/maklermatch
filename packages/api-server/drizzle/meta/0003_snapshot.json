{
	"id": "81ab3191-7903-4207-ac6e-256036f94560",
	"prevId": "c8b44e6b-87ee-4701-a8bc-351a871570e1",
	"version": "6",
	"dialect": "sqlite",
	"tables": {
		"conversation_messages": {
			"name": "conversation_messages",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"conversation_id": {
					"name": "conversation_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"direction": {
					"name": "direction",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"channel": {
					"name": "channel",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"body": {
					"name": "body",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"stage": {
					"name": "stage",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"spam_guard_score": {
					"name": "spam_guard_score",
					"type": "real",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"kleinanzeigen_address": {
					"name": "kleinanzeigen_address",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"sent_at": {
					"name": "sent_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"conversation_messages_conversation_id_conversations_id_fk": {
					"name": "conversation_messages_conversation_id_conversations_id_fk",
					"tableFrom": "conversation_messages",
					"columnsFrom": ["conversation_id"],
					"tableTo": "conversations",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"conversations": {
			"name": "conversations",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"listing_id": {
					"name": "listing_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"broker_id": {
					"name": "broker_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"seller_name": {
					"name": "seller_name",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"kleinanzeigen_reply_to": {
					"name": "kleinanzeigen_reply_to",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"email_subject": {
					"name": "email_subject",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'active'"
				},
				"current_stage": {
					"name": "current_stage",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'initial'"
				},
				"reply_sentiment": {
					"name": "reply_sentiment",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"first_contact_at": {
					"name": "first_contact_at",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"last_message_at": {
					"name": "last_message_at",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"next_followup_at": {
					"name": "next_followup_at",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"conversations_listing_id_listings_id_fk": {
					"name": "conversations_listing_id_listings_id_fk",
					"tableFrom": "conversations",
					"columnsFrom": ["listing_id"],
					"tableTo": "listings",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"inbound_emails": {
			"name": "inbound_emails",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"from_address": {
					"name": "from_address",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"to_address": {
					"name": "to_address",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"subject": {
					"name": "subject",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"body_text": {
					"name": "body_text",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"body_html": {
					"name": "body_html",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"conversation_id": {
					"name": "conversation_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"processed": {
					"name": "processed",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": false
				},
				"received_at": {
					"name": "received_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"inbound_emails_conversation_id_conversations_id_fk": {
					"name": "inbound_emails_conversation_id_conversations_id_fk",
					"tableFrom": "inbound_emails",
					"columnsFrom": ["conversation_id"],
					"tableTo": "conversations",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"listing_abstract_snapshots": {
			"name": "listing_abstract_snapshots",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"listing_id": {
					"name": "listing_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"previous_version_id": {
					"name": "previous_version_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"url": {
					"name": "url",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"title": {
					"name": "title",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"description": {
					"name": "description",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"price": {
					"name": "price",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"price_parsed": {
					"name": "price_parsed",
					"type": "real",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"location": {
					"name": "location",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"distance": {
					"name": "distance",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"date": {
					"name": "date",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"image_url": {
					"name": "image_url",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"image_count": {
					"name": "image_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": 0
				},
				"is_private": {
					"name": "is_private",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": false
				},
				"tags": {
					"name": "tags",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"seen_at": {
					"name": "seen_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"scraping_task_id": {
					"name": "scraping_task_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"html": {
					"name": "html",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"listing_abstract_snapshots_listing_id_listings_id_fk": {
					"name": "listing_abstract_snapshots_listing_id_listings_id_fk",
					"tableFrom": "listing_abstract_snapshots",
					"columnsFrom": ["listing_id"],
					"tableTo": "listings",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				},
				"listing_abstract_snapshots_scraping_task_id_scraping_tasks_id_fk": {
					"name": "listing_abstract_snapshots_scraping_task_id_scraping_tasks_id_fk",
					"tableFrom": "listing_abstract_snapshots",
					"columnsFrom": ["scraping_task_id"],
					"tableTo": "scraping_tasks",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"listing_detail_snapshots": {
			"name": "listing_detail_snapshots",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"listing_id": {
					"name": "listing_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"previous_snapshot_id": {
					"name": "previous_snapshot_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"description": {
					"name": "description",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"category": {
					"name": "category",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"image_urls": {
					"name": "image_urls",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"details": {
					"name": "details",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"features": {
					"name": "features",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"latitude": {
					"name": "latitude",
					"type": "real",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"longitude": {
					"name": "longitude",
					"type": "real",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"view_count": {
					"name": "view_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"seller_id": {
					"name": "seller_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"seller_name": {
					"name": "seller_name",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"seller_type": {
					"name": "seller_type",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"seen_at": {
					"name": "seen_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"scraping_task_id": {
					"name": "scraping_task_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"html": {
					"name": "html",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"listing_detail_snapshots_listing_id_listings_id_fk": {
					"name": "listing_detail_snapshots_listing_id_listings_id_fk",
					"tableFrom": "listing_detail_snapshots",
					"columnsFrom": ["listing_id"],
					"tableTo": "listings",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				},
				"listing_detail_snapshots_seller_id_sellers_id_fk": {
					"name": "listing_detail_snapshots_seller_id_sellers_id_fk",
					"tableFrom": "listing_detail_snapshots",
					"columnsFrom": ["seller_id"],
					"tableTo": "sellers",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				},
				"listing_detail_snapshots_scraping_task_id_scraping_tasks_id_fk": {
					"name": "listing_detail_snapshots_scraping_task_id_scraping_tasks_id_fk",
					"tableFrom": "listing_detail_snapshots",
					"columnsFrom": ["scraping_task_id"],
					"tableTo": "scraping_tasks",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"listings": {
			"name": "listings",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"city": {
					"name": "city",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"url": {
					"name": "url",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'active'"
				},
				"first_seen": {
					"name": "first_seen",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"last_seen": {
					"name": "last_seen",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"detail_page_scraped_at": {
					"name": "detail_page_scraped_at",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"scheduled_sends": {
			"name": "scheduled_sends",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"conversation_id": {
					"name": "conversation_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"message": {
					"name": "message",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"send_after": {
					"name": "send_after",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'pending'"
				},
				"created_at": {
					"name": "created_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"scheduled_sends_conversation_id_conversations_id_fk": {
					"name": "scheduled_sends_conversation_id_conversations_id_fk",
					"tableFrom": "scheduled_sends",
					"columnsFrom": ["conversation_id"],
					"tableTo": "conversations",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"scraping_tasks": {
			"name": "scraping_tasks",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"target_id": {
					"name": "target_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"started_at": {
					"name": "started_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'pending'"
				},
				"max_pages": {
					"name": "max_pages",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"pages_scraped": {
					"name": "pages_scraped",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"listings_found": {
					"name": "listings_found",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"details_scraped": {
					"name": "details_scraped",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"details_failed": {
					"name": "details_failed",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"error_message": {
					"name": "error_message",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"error_logs": {
					"name": "error_logs",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"scraping_tasks_target_id_search_targets_id_fk": {
					"name": "scraping_tasks_target_id_search_targets_id_fk",
					"tableFrom": "scraping_tasks",
					"columnsFrom": ["target_id"],
					"tableTo": "search_targets",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"search_targets": {
			"name": "search_targets",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"active": {
					"name": "active",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": false
				},
				"category": {
					"name": "category",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"location": {
					"name": "location",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"is_private": {
					"name": "is_private",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"max_pages": {
					"name": "max_pages",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"min_interval_minutes": {
					"name": "min_interval_minutes",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": 30
				},
				"max_interval_minutes": {
					"name": "max_interval_minutes",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": 60
				},
				"created_at": {
					"name": "created_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"updated_at": {
					"name": "updated_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"seller_snapshots": {
			"name": "seller_snapshots",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"seller_id": {
					"name": "seller_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"previous_snapshot_id": {
					"name": "previous_snapshot_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"type": {
					"name": "type",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"active_since": {
					"name": "active_since",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"other_ads_count": {
					"name": "other_ads_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"seen_at": {
					"name": "seen_at",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"scraping_task_id": {
					"name": "scraping_task_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"seller_snapshots_seller_id_sellers_id_fk": {
					"name": "seller_snapshots_seller_id_sellers_id_fk",
					"tableFrom": "seller_snapshots",
					"columnsFrom": ["seller_id"],
					"tableTo": "sellers",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				},
				"seller_snapshots_scraping_task_id_scraping_tasks_id_fk": {
					"name": "seller_snapshots_scraping_task_id_scraping_tasks_id_fk",
					"tableFrom": "seller_snapshots",
					"columnsFrom": ["scraping_task_id"],
					"tableTo": "scraping_tasks",
					"columnsTo": ["id"],
					"onUpdate": "no action",
					"onDelete": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"sellers": {
			"name": "sellers",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"external_id": {
					"name": "external_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"first_seen": {
					"name": "first_seen",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"last_seen": {
					"name": "last_seen",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {
				"sellers_external_id_unique": {
					"name": "sellers_external_id_unique",
					"columns": ["external_id"],
					"isUnique": true
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		}
	},
	"views": {},
	"enums": {},
	"_meta": {
		"columns": {},
		"schemas": {},
		"tables": {}
	},
	"internal": {
		"indexes": {}
	}
}
